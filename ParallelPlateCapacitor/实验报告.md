# 项目：平行板电容器 - 实验报告

**学生姓名：** [曹玉琴] **学号：** [20231050001] **完成日期：** [2025.6.18]

## 1. 实验目的
本实验旨在通过数值方法求解二维拉普拉斯方程，模拟平行板电容器中的静电势分布，掌握Jacobi迭代法与Gauss-Seidel SOR迭代法的原理与实现方法，并比较它们的收敛速度与计算效率。

## 2. 核心算法
### 2.1 算法思路
本实验将电容器区域离散为二维网格，对应的电势满足拉普拉斯方程 $\nabla^2 U = 0$。采用Jacobi迭代法与SOR方法对该方程进行求解，过程中保持边界条件固定，其中上下两块平行板分别设为 +100V 和 -100V，外围边界接地。Jacobi方法通过旧值更新全局，新值不立即用于本轮；SOR方法则使用当前已更新的新值并加入松弛因子以加快收敛速度。通过迭代至电势变化小于指定容差判断收敛，并记录变化趋势用于可视化与对比。

### 2.2 关键代码片段
```python
# 核心代码段
# Jacobi迭代公式
u[1:-1,1:-1] = 0.25 * (u_old[2:,1:-1] + u_old[:-2,1:-1] + u_old[1:-1,2:] + u_old[1:-1,:-2])

# SOR迭代公式
r_ij = 0.25 * (u[i+1,j] + u[i-1,j] + u[i,j+1] + u[i,j-1])
u[i,j] = (1 - omega) * u[i,j] + omega * r_ij

# 电场计算与可视化
EY, EX = np.gradient(-u)
plt.streamplot(X, Y, EX, EY, density=1.5)

```

## 3. 实验结果

### 3.1 主要输出

![Figure_4](https://github.com/user-attachments/assets/e5e81245-127d-4dc6-b4c4-43bb2a82fcc3)

![Figure_5](https://github.com/user-attachments/assets/58bb06bd-33e6-4809-bca0-3539387b120f)

![Figure_6](https://github.com/user-attachments/assets/fb2d66af-47b5-4cb8-b5b7-833ca608b0d4)



### 3.2 结果验证

实验结果符合物理预期：电势分布在两极板之间近似线性分布，等势线平直且密集，表示匀强电场。电场线从正极指向负极，方向垂直板面，与经典电容器模型一致。收敛性图表明SOR方法相比Jacobi大大加快了收敛速度和降低了迭代次数，验证了数值效率的差异。

## 4. 问题与收获

### 4.1 主要问题

- 初始实现时忽略了固定电势边界在每次迭代后需要重新设置，导致误差累积。

- SOR方法中松弛因子选择不当时收敛速度不理想。

### 4.2 解决方法

- 通过设置电势掩膜（mask）和重新赋值方式，确保平行板电势固定不变。

- 多次测试不同的 $\omega$ 值（如1.25到1.8），选择收敛较快但不震荡的最优值1.6。

### 4.3 主要收获

- 理解了拉普拉斯方程在静电模拟中的重要作用。

- 掌握了两种经典的迭代算法，并理解它们的收敛机制和效率差异。

- 通过编程实践，提升了边界条件设定、网格离散与物理场可视化的能力。

- 具备了将物理模型转化为数值计算问题的思维方法。

- 学会使用Matplotlib绘制电势图、电场线及收敛性图，提升图像表达能力。

## 5. 思考题（可选）

- 若平行板不再完全对称，而是上板偏离中心，电势和电场会如何变化？

答：

如果上板位置相对于下板发生了偏移（例如向左或向右移动），那么系统将不再关于中轴对称。由于电势的边界条件变了，电势分布也会发生变化：

-  等势线会变得不再平行对称，而是在靠近偏移板的一侧变得更加密集，表示电场更强；
-  电场线将从上板发出，但由于位置不对称，电场不再是匀强电场，电场线会偏向下板的对应部分；
-  体电场分布将出现“倾斜”趋势，场强大小和方向在空间中分布不均。
  
这可以用数值模拟观察到：将上板的位置向左或右平移几个格点，重新运行程序，就会得到非对称的电势、电场图像。


- 若模拟区域中加入一个导体小球，其内部电势应满足什么条件？算法中该如何处理？

答：

在静电平衡时，理想导体内部的电场为零，因此导体内部的电势是常数。即：

导体内部： $\nabla^2 U = 0$ 且 $|\vec{E}| = 0$ ，所以 $U = \text{常数}$

导体表面：电势连续，电场线垂直导体表面

在数值实现上，处理导体小球的方法是：

在电势网格上指定一块区域为“导体区域”，例如一个圆形区域；

在该区域内，电势保持为某一常数值 $U_0$；

在每轮迭代后，将该区域的电势重新设为 $U_0$，类似平行板的处理方式（即设置“电势掩膜”）；

如果小球是浮置导体（未接地），则可以进一步通过全局收敛判断动态调整其电势使其总净电荷为0，但这属于更高阶问题。

这种处理方式模拟了导体在静电条件下的屏蔽特性，也可拓展为带电导体、接地导体等不同边界条件的场景分析。
